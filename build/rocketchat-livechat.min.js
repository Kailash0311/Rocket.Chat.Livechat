!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n.d(t,"validCallbacks",(function(){return h}));const o=()=>{};window.RocketChat=window.RocketChat||{_:[]};const i={};let a,c,s,d,u=[],r=!1,l=!1;const h=["chat-maximized","chat-minimized","chat-started","chat-ended","pre-chat-form-submit","offline-form-submit","show-widget","hide-widget","assign-agent","agent-status-change","queue-position-change","no-agent-online"],f={all:p=p||new Map,on:function(e,t){var n=p.get(e);n&&n.push(t)||p.set(e,[t])},off:function(e,t){var n=p.get(e);n&&n.splice(n.indexOf(t)>>>0,1)},emit:function(e,t){(p.get(e)||[]).slice().map((function(e){e(t)})),(p.get("*")||[]).slice().map((function(n){n(e,t)}))}};var p;function m(e,t){return-1!==h.indexOf(e)&&f.on(e,t)}function g(e,t){void 0!==t?f.emit(e,t):f.emit(e)}function w(e,t){if(!r)return u.push([e,t]);const n={src:"rocketchat",fn:e,args:t};c.contentWindow.postMessage(n,"*")}const y=e=>{l&&e?(d=document.documentElement.scrollTop,s=document.body.style.cssText,document.body.style.cssText+=`overflow: hidden; height: 100%; width: 100%; position: fixed; top: ${d}px;`):(document.body.style.cssText=s,l&&(document.documentElement.scrollTop=d)),e?(a.style.left=l?"0":"auto",a.style.width=l?"100%":"397px",a.style.height=l?"100%":"627px"):(a.style.left="auto",a.style.width="86px",a.style.height="86px")},v=()=>{"opened"!==a.dataset.state&&(y(!0),a.dataset.state="opened",c.focus(),g("chat-maximized"))};function b(){"closed"!==a.dataset.state&&(y(!1),a.dataset.state="closed",g("chat-minimized"))}const x={popup:null,ready(){r=!0,u.length>0&&(u.forEach((function(e){w.apply(this,e)})),u=[])},minimizeWindow(){b()},restoreWindow(){x.popup&&!0!==x.popup.closed&&(x.popup.close(),x.popup=null),v()},openPopout(){b(),x.popup=window.open(`${i.url}${i.url.lastIndexOf("?")>-1?"&":"?"}mode=popout`,"livechat-popout","width=365, height=525, toolbars=no"),x.popup.focus()},openWidget(){v()},removeWidget(){document.body.removeChild(a)},callback(e,t){g(e,t)},showWidget(){c.style.display="initial",g("show-widget")},hideWidget(){c.style.display="none",g("hide-widget")}};function k(e){w("pageVisited",{change:e,location:JSON.parse(JSON.stringify(document.location)),title:document.title})}function C(e,t,n){void 0===n&&(n=!0),w("setCustomField",[e,t,n])}function W(e){w("setTheme",e)}function z(e){w("setDepartment",e)}function E(e){w("setGuestToken",e)}function O(e){w("setGuestName",e)}function R(e){w("setGuestEmail",e)}function S(e){w("registerGuest",e)}function T(e){w("setAgent",e)}function P(e){w("setLanguage",e)}const _={href:null,title:null},j=e=>{e&&(i.url=e,(e=>{(a=document.createElement("div")).className="rocketchat-widget",a.style.position="fixed",a.style.width="86px",a.style.height="86px",a.style.maxHeight="100vh",a.style.bottom="0",a.style.right="0",a.style.zIndex="12345",a.dataset.state="closed";const t=document.createElement("div");t.className="rocketchat-container",t.style.width="100%",t.style.height="100%",(c=document.createElement("iframe")).id="rocketchat-iframe",c.allowTransparency="true",c.src=e,c.style.width="100%",c.style.height="100%",c.style.border="none",c.style.backgroundColor="transparent",t.appendChild(c),a.appendChild(t),document.body.appendChild(a);const n=({matches:e})=>{a&&(l=e,y("opened"===a.dataset.state),w("setExpanded",l))},o=window.matchMedia("screen and (max-device-width: 480px)");o.addListener(n),n(o)})(e),window.addEventListener("message",e=>{if("object"==typeof e.data&&void 0!==e.data.src&&"rocketchat"===e.data.src&&void 0!==x[e.data.fn]&&"function"==typeof x[e.data.fn]){const t=[].concat(e.data.args||[]);o(`api.${e.data.fn}`,...t),x[e.data.fn].apply(null,t)}},!1),setInterval(()=>{document.location.href!==_.href&&(k("url"),_.href=document.location.href),document.title!==_.title&&(k("title"),_.title=document.title)},800))};void 0!==window.initRocket&&(console.warn("initRocket is now deprecated. Please update the livechat code."),j(window.initRocket[0])),void 0!==window.RocketChat.url&&j(window.RocketChat.url);const G=window.RocketChat._;window.RocketChat._.push=function(e){e.call(window.RocketChat.livechat)},window.RocketChat=window.RocketChat._.push,window.RocketChat.livechat={pageVisited:k,setCustomField:C,initialize:function(e){for(const t in e)if(e.hasOwnProperty(t))switch(t){case"customField":const{key:n,value:o,overwrite:i}=e[t];C(n,o,i);continue;case"setCustomFields":if(!Array.isArray(e[t])){console.log("Error: Invalid parameters. Value must be an array of objects");continue}e[t].forEach(e=>{const{key:t,value:n,overwrite:o}=e;C(t,n,o)});continue;case"theme":W(e[t]);continue;case"department":z(e[t]);continue;case"guestToken":E(e[t]);continue;case"guestName":O(e[t]);continue;case"guestEmail":R(e[t]);continue;case"registerGuest":S(e[t]);continue;case"language":P(e[t]);continue;case"agent":T(e[t]);continue;default:continue}},setTheme:W,setDepartment:z,clearDepartment:function(){w("clearDepartment")},setGuestToken:E,setGuestName:O,setGuestEmail:R,setAgent:T,registerGuest:S,setLanguage:P,showWidget:function(){w("showWidget")},hideWidget:function(){w("hideWidget")},maximizeWidget:function(){w("maximizeWidget")},minimizeWidget:function(){w("minimizeWidget")},onChatMaximized(e){m("chat-maximized",e)},onChatMinimized(e){m("chat-minimized",e)},onChatStarted(e){m("chat-started",e)},onChatEnded(e){m("chat-ended",e)},onPrechatFormSubmit(e){m("pre-chat-form-submit",e)},onOfflineFormSubmit(e){m("offline-form-submit",e)},onWidgetShown(e){m("show-widget",e)},onWidgetHidden(e){m("hide-widget",e)},onAssignAgent(e){m("assign-agent",e)},onAgentStatusChange(e){m("agent-status-change",e)},onQueuePositionChange(e){m("queue-position-change",e)},onServiceOffline(e){m("no-agent-online",e)}},G.forEach(e=>{e.call(window.RocketChat.livechat)})}]);